<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zxd's Blog</title>
    <meta name="description" content="so easy">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/assets/style.B2JdIB9P.css" as="style">
    
    <script type="module" src="/assets/app.DsewOzab.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C5O6QHj3.js">
    <link rel="modulepreload" href="/assets/chunks/theme.bV7EO5Vg.js">
    <link rel="modulepreload" href="/assets/2024_computer-networks_11. Cookie Session JWT.md.D9thLgPP.lean.js">
    <link rel="icon" href="/icon.webp">
    <script src="/lib/medium-zoom.js"></script>
    <script src="/zoom-image.js"></script>
    <meta name="referrer" content="no-referrer">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-e177b3f2><!--[--><!--]--><!--[--><span tabindex="-1" data-v-bef3cbf0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-bef3cbf0> Skip to content </a><!--]--><!----><header class="VPNav" data-v-e177b3f2 data-v-1226d7c8><div class="VPNavBar has-sidebar top" data-v-1226d7c8 data-v-5006301a><div class="wrapper" data-v-5006301a><div class="container" data-v-5006301a><div class="title" data-v-5006301a><div class="VPNavBarTitle has-sidebar" data-v-5006301a data-v-e1ddb017><a class="title" href="/" data-v-e1ddb017><!--[--><!--]--><!--[--><img class="VPImage logo" src="/user.png" alt data-v-10b417ca><!--]--><span data-v-e1ddb017>zxd&#39;s Blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-5006301a><div class="content-body" data-v-5006301a><!--[--><!--]--><div class="VPNavBarSearch search" data-v-5006301a><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-5006301a data-v-0884e606><span id="main-nav-aria-label" class="visually-hidden" data-v-0884e606>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/2024/computer-networks/1.%20OSI%20TCP%20_%20UDP.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>网络</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/2024/typescript/1.%20TS-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>typescript</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/2024/vue2/2.%20%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>vue</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-0884e606 data-v-753158ba><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-753158ba><span class="text" data-v-753158ba><!----><span data-v-753158ba>课堂教学</span><span class="vpi-chevron-down text-icon" data-v-753158ba></span></span></button><div class="menu" data-v-753158ba><div class="VPMenu" data-v-753158ba data-v-e7e96bb5><div class="items" data-v-e7e96bb5><!--[--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/01-WebAPI/day01/web-day01.html" data-v-a96ee391><!--[-->01 WebAPI<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/02-Echarts/day01/01-echarts.html" data-v-a96ee391><!--[-->02 Echarts<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/03-JSAdvance/day01/JS-day01.html" data-v-a96ee391><!--[-->03 JS Advance<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/04-Git/day01/day01.html" data-v-a96ee391><!--[-->04 Git<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/05-Node/day01/day01.html" data-v-a96ee391><!--[-->05 Node<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7e96bb5 data-v-a96ee391><a class="VPLink link" href="/course/06-Vue/day07/day07.html" data-v-a96ee391><!--[-->06 Vue<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/2024/performance/1.%20%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>性能监控</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/2024/project-review/1.%20%E7%AB%9E%E5%93%81%E5%AF%B9%E6%AF%94.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>项目复盘</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/2024/interview/1.%20JS%E6%89%8B%E5%86%991.html" tabindex="0" data-v-0884e606 data-v-98ad1aa1><!--[--><span data-v-98ad1aa1>手写实现</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-5006301a data-v-9eb31107><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-9eb31107 data-v-94a65446 data-v-f5127aad><span class="check" data-v-f5127aad><span class="icon" data-v-f5127aad><!--[--><span class="vpi-sun sun" data-v-94a65446></span><span class="vpi-moon moon" data-v-94a65446></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-5006301a data-v-6bac7ebe data-v-8a5c2685><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zxdfe" aria-label="github" target="_blank" rel="noopener" data-v-8a5c2685 data-v-22ad8c1d><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-5006301a data-v-c5935333 data-v-753158ba><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-753158ba><span class="vpi-more-horizontal icon" data-v-753158ba></span></button><div class="menu" data-v-753158ba><div class="VPMenu" data-v-753158ba data-v-e7e96bb5><!----><!--[--><!--[--><!----><div class="group" data-v-c5935333><div class="item appearance" data-v-c5935333><p class="label" data-v-c5935333>Appearance</p><div class="appearance-action" data-v-c5935333><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-c5935333 data-v-94a65446 data-v-f5127aad><span class="check" data-v-f5127aad><span class="icon" data-v-f5127aad><!--[--><span class="vpi-sun sun" data-v-94a65446></span><span class="vpi-moon moon" data-v-94a65446></span><!--]--></span></span></button></div></div></div><div class="group" data-v-c5935333><div class="item social-links" data-v-c5935333><div class="VPSocialLinks social-links-list" data-v-c5935333 data-v-8a5c2685><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zxdfe" aria-label="github" target="_blank" rel="noopener" data-v-8a5c2685 data-v-22ad8c1d><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-5006301a data-v-35979f45><span class="container" data-v-35979f45><span class="top" data-v-35979f45></span><span class="middle" data-v-35979f45></span><span class="bottom" data-v-35979f45></span></span></button></div></div></div></div><div class="divider" data-v-5006301a><div class="divider-line" data-v-5006301a></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-e177b3f2 data-v-106e26b8><div class="container" data-v-106e26b8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-106e26b8><span class="vpi-align-left menu-icon" data-v-106e26b8></span><span class="menu-text" data-v-106e26b8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-106e26b8 data-v-6fa19865><button data-v-6fa19865>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-e177b3f2 data-v-981c6a7e><div class="curtain" data-v-981c6a7e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-981c6a7e><span class="visually-hidden" id="sidebar-aria-label" data-v-981c6a7e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-981c6a7e><section class="VPSidebarItem level-0 has-active" data-v-981c6a7e data-v-d799ecce><div class="item" role="button" tabindex="0" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><h2 class="text" data-v-d799ecce>computer-networks</h2><!----></div><div class="items" data-v-d799ecce><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/1.%20OSI%20TCP%20_%20UDP.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>1. OSI TCP _ UDP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/2.%20CDN%E7%9B%B8%E5%85%B3.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>2. CDN相关</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/3.%20%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>3. 浏览器缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/4.%20DNS%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>4. DNS域名解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/5.%20%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>5. 跨域解决方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/6.%20HTTP%20HTTPS%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>6. HTTP HTTPS工作原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/7.%20HTTP1.1%20%20HTTP2.0.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>7. HTTP1.1  HTTP2.0</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/8.%20XSS%20CSRF.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>8. XSS CSRF</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/9.%20%E4%BB%8EURL%E8%BE%93%E5%85%A5%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%EF%BC%8C%E8%BF%99%E4%B8%AD%E9%97%B4%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>9. 从URL输入到页面展示，这中间发生了什么</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/10.%20HTTP%20_%20HTTPS%20_%20%E7%8A%B6%E6%80%81%E7%A0%81.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>10. HTTP _ HTTPS _ 状态码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/11.%20Cookie%20Session%20JWT.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>11. Cookie Session JWT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/12.%20%E8%B7%A8%E5%9F%9F.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>12. 跨域</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d799ecce data-v-d799ecce><div class="item" data-v-d799ecce><div class="indicator" data-v-d799ecce></div><a class="VPLink link link" href="/2024/computer-networks/13.%20WebSocket.html" data-v-d799ecce><!--[--><p class="text" data-v-d799ecce>13. WebSocket</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-e177b3f2 data-v-73b957a9><div class="VPDoc has-sidebar has-aside" data-v-73b957a9 data-v-40255539><!--[--><!--]--><div class="container" data-v-40255539><div class="aside" data-v-40255539><div class="aside-curtain" data-v-40255539></div><div class="aside-container" data-v-40255539><div class="aside-content" data-v-40255539><div class="VPDocAside" data-v-40255539 data-v-6866a455><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6866a455 data-v-9c79f3d1><div class="content" data-v-9c79f3d1><div class="outline-marker" data-v-9c79f3d1></div><div class="outline-title" role="heading" aria-level="2" data-v-9c79f3d1>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-9c79f3d1><span class="visually-hidden" id="doc-outline-aria-label" data-v-9c79f3d1> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-9c79f3d1 data-v-9937af2f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6866a455></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-40255539><div class="content-container" data-v-40255539><!--[--><!--]--><main class="main" data-v-40255539><div style="position:relative;" class="vp-doc _2024_computer-networks_11_%20Cookie%20Session%20JWT" data-v-40255539><div><h2 id="http是无状态的" tabindex="-1">HTTP是无状态的 <a class="header-anchor" href="#http是无状态的" aria-label="Permalink to &quot;HTTP是无状态的&quot;">​</a></h2><p><strong>HTTP 是无状态的</strong>。也就是说，HTTP 请求方和响应方间无法维护状态，都是一次性的，它不知道前后的请求都发生了什么。 但有的场景下，我们需要维护状态。最典型的，一个用户登陆微博，发布、关注、评论，都应是在登录后的用户状态下的。 要怎么维持这样的登录状态呢，Cookie 和 Session就是用来做这个滴~</p><hr><p><strong>HTTP 是无状态的协议（对于事务处理没有记忆能力，每次客户端和服务端会话完成时，服务端不会保存任何会话信息</strong>）：每个请求都是完全独立的，服务端无法确认当前访问者的身份信息，无法分辨上一次的请求发送者和这一次的发送者是不是同一个人。 所以服务器与浏览器为了进行会话跟踪（知道是谁在访问我），就必须主动的去维护一个状态，这个状态用于告知服务端前后两个请求是否来自同一浏览器。而这个状态需要通过 cookie 或者 session 去实现。</p><h2 id="cookie" tabindex="-1">Cookie <a class="header-anchor" href="#cookie" aria-label="Permalink to &quot;Cookie&quot;">​</a></h2><h3 id="基本概念" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念" aria-label="Permalink to &quot;基本概念&quot;">​</a></h3><p><strong>cookie 存储在客户端：</strong> cookie 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。从而使服务器知道你曾经来过。Cookie 能够记录并保持诸如用户登录状态、购物车信息等各种状态信息。</p><hr><p><strong>cookie 是不可跨域的：</strong> 每个 cookie 都会绑定单一的域名，无法在别的域名下获取使用，<strong>一级域名和二级域名之间是允许共享使用的</strong>（<strong>靠的是 domain）</strong></p><h3 id="cookie属性" tabindex="-1">Cookie属性 <a class="header-anchor" href="#cookie属性" aria-label="Permalink to &quot;Cookie属性&quot;">​</a></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712734362806-430fdbd2-9848-4bab-bfce-3f94d9bb866a.png#averageHue=%23f8edbe&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=163&amp;id=u31068538&amp;originHeight=358&amp;originWidth=1686&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=115781&amp;status=done&amp;style=none&amp;taskId=ud730e2b2-a98d-4073-8b91-e25f1b61c3e&amp;title=&amp;width=766.3636197531522" alt="image.png"><strong>Cookie</strong> 的重要属性有：</p><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>Name</td><td>Cookie 的名称</td></tr><tr><td>Value</td><td>储存在 Cookie 中的字符串值, <strong>必须是字符串</strong></td></tr><tr><td><strong>Domain</strong></td><td>指定 cookie 所属域名，默认是当前域名</td></tr><tr><td><strong>Path</strong></td><td><strong>指定 cookie 在哪个路径（路由）下生效，默认是 &#39;/&#39;</strong>。</td></tr><tr><td>如果设置为 /abc，则只有 /abc 下的路由可以访问到该 cookie，如：/abc/read</td><td></td></tr><tr><td><strong>Expires/Max-Age</strong></td><td>这两个属性决定了 Cookie 的过期时间。</td></tr><tr><td><strong>Expires 指定了一个具体的过期时间</strong>（通常是一个固定的 UTC/GMT 时间）</td><td></td></tr><tr><td>Max-Age 接收一个以秒为单位的时长，完成和 Expires 同样的任务。<strong>如果不设置这两个值，那么 Cookie 则会在关闭浏览器会话时过期</strong></td><td></td></tr><tr><td>Secure</td><td>如果设置为 True，意味着 Cookie 只能通过 HTTPS 传输，在HTTP中无效</td></tr><tr><td><strong>HttpOnly</strong></td><td><strong>当此属性为真时，JS 中的 Document.cookie 的 API 无法获取到该 Cookie，<strong>可以一定程度上</strong>防止 XSS 攻击</strong></td></tr></tbody></table><p><strong>Domain</strong><code>**Domain**</code>标识指定了哪些主机可以访问该Cookie的域名。如果设置为.google.com，则所有以google.com结尾的域名都可以访问该Cookie。注意第一个字符为<code>.</code></p><p><strong>响应头写入Cookie</strong> HTTP 返回的一个 Set-Cookie 头用于向浏览器写入「一条（且只能是一条）」cookie，格式为 cookie 键值 + 配置键值。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Cookie:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> username=zxd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; domain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">zxdfe.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/blog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; Expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Wed,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 21</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2015</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 07:28:00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Secure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HttpOnly</span></span></code></pre></div><p>注意，<code>Cookie的大小只有4k</code></p><h3 id="cookie-要注意哪些安全性" tabindex="-1">Cookie 要注意哪些安全性？ <a class="header-anchor" href="#cookie-要注意哪些安全性" aria-label="Permalink to &quot;Cookie 要注意哪些安全性？&quot;">​</a></h3><ul><li><code>cookie的value</code>如果用于保存用户登录态，应该将该值加密</li><li><code>http-only </code>属性设置了不能通过 JS 访问 Cookie，减少 XSS 攻击</li><li><code>Secure </code>属性设置只能在https请求中携带</li><li><code>SameSite </code>属性规定浏览器不能在跨域请求中携带 Cookie，减少 <code>CSRF </code>攻击</li></ul><h3 id="cookie的有效期" tabindex="-1">Cookie的有效期 <a class="header-anchor" href="#cookie的有效期" aria-label="Permalink to &quot;Cookie的有效期&quot;">​</a></h3><p>Cookie的有效期可以通过Expires和Max-Age两个属性来设置。</p><ul><li>Expires即过期时间</li><li>Max-Age用的是一段时间间隔，单位是秒，从浏览器收到报文开始计算</li><li>过期时间如果<code>不设置</code>，或者为<code>负数或0</code>，关闭浏览器即销毁Cookie</li></ul><h2 id="session" tabindex="-1">Session <a class="header-anchor" href="#session" aria-label="Permalink to &quot;Session&quot;">​</a></h2><h3 id="基本概念-1" tabindex="-1">基本概念 <a class="header-anchor" href="#基本概念-1" aria-label="Permalink to &quot;基本概念&quot;">​</a></h3><ul><li>session 是另一种记录服务器和客户端会话状态的机制</li><li>session 是基于 cookie 实现的，session 存储在服务器端，sessionId 会被存储到客户端的cookie 中</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712735987152-dcb7ca8d-a86d-4e74-b4ba-e29c87f3aa92.png#averageHue=%23d1c5c4&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=372&amp;id=u789cbbde&amp;originHeight=818&amp;originWidth=1396&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=221810&amp;status=done&amp;style=none&amp;taskId=u8ffd3e7b-1842-493f-a3dd-2f234602108&amp;title=&amp;width=634.5454407920525" alt="image.png"></p><h3 id="典型的session登录验证流程" tabindex="-1">典型的session登录验证流程 <a class="header-anchor" href="#典型的session登录验证流程" aria-label="Permalink to &quot;典型的session登录验证流程&quot;">​</a></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712736078996-46d16144-8624-4688-850c-8d0527db1260.png#averageHue=%23d9d9d9&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=434&amp;id=ud1f46f78&amp;originHeight=954&amp;originWidth=1546&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=167420&amp;status=done&amp;style=none&amp;taskId=u4279ece5-5545-4a82-b8c8-0ab48d62d81&amp;title=&amp;width=702.7272574960696" alt="image.png"></p><ul><li>浏览器登录发送账号密码，服务器查数据库，校验用户，</li><li>服务端把用户登录状态存为 <code>Session</code>，生成一个 <code>sessionId</code></li><li>请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器，响应头中Set-Cookie;</li><li>浏览器接收到服务器返回的 SessionID 信息后，会将此信息存入到 Cookie 中，同时 Cookie 记录此 SessionID 属于哪个域名</li><li>之后浏览器访问服务器的时候，SessionId 随 Cookie 带上；</li><li>服务端会从 Cookie 中获取 SessionID，再根据 SessionID 查找(校验)对应的 Session 信息，</li><li>如果没有找到说明用户没有登录或者登录失效，如果找到 Session 证明用户已经登录可执行后面操作。</li></ul><blockquote><p><strong>SessionID 是连接 Cookie 和 Session 的一道桥梁</strong></p></blockquote><h3 id="session的存储方式" tabindex="-1">Session的存储方式 <a class="header-anchor" href="#session的存储方式" aria-label="Permalink to &quot;Session的存储方式&quot;">​</a></h3><p>服务端只是给 cookie 一个 sessionId，而 session 的具体内容（可能包含用户信息、session 状态等），要后端自己存一下。 当前主要是将Session存在 Redis（推荐）中， 当然也可以存普通数据库，性能不高</p><h3 id="cookie和session的区别" tabindex="-1">Cookie和Session的区别 <a class="header-anchor" href="#cookie和session的区别" aria-label="Permalink to &quot;Cookie和Session的区别&quot;">​</a></h3><p>Cookie 和 Session 都是为了解决 HTTP 协议无状态性的问题而产生的。详细的区别如下：</p><ol><li><strong>存储位置</strong></li></ol><ul><li><strong>Cookie</strong> 数据存储在客户的浏览器上</li><li><strong>Session</strong> 数据存储在服务器上</li></ul><ol start="2"><li><strong>数据安全性</strong></li></ol><ul><li><strong>Cookie</strong> 存储在客户端，数据相对容易被篡改，不是完全安全</li><li><strong>Session</strong> 存储在服务器，安全性较好</li></ul><ol start="3"><li><strong>生命周期</strong></li></ol><ul><li><strong>Cookie</strong> 的生命周期由 Expires 或 Max-Age 属性决定，如果没有设置，Cookie 在浏览器关闭时就会失效（此时sessionId也找不到了，会话session）</li><li><strong>Session</strong> 通常有较短的生命周期，用户关闭浏览器或长时间不活动（根据服务器配置）则会过期</li></ul><ol start="4"><li><strong>对服务器压力</strong></li></ol><ul><li><strong>Cookie</strong> 存储在客户端，对服务器性能无影响</li><li><strong>Session</strong> 存储在服务器端，如果数据过大或过多，会对服务器性能产生影响</li></ul><ol start="5"><li><strong>存储大小</strong></li></ol><ul><li><strong>Cookie</strong> 的大小限制在4KB左右</li><li><strong>Session</strong> 存储在服务器端，如果数据过大或过多，可能会对服务器性能产生影响</li></ul><ol start="6"><li><strong>跨域问题</strong></li></ol><ul><li><strong>Cookie</strong> 的跨域需要一定的设置，但实现相对复杂 <ul><li>服务器设置响应头:<code>Access-Control-Allow-Origin / Access-Control-Allow-Credentials</code></li><li>客户端配置：<code>withCredentials : true</code></li></ul></li><li><strong>Session</strong> 要实现跨域也需要相应的配置并结合其他手段，如跨域共享 Session，实现也较为复杂</li></ul><h2 id="token" tabindex="-1">Token <a class="header-anchor" href="#token" aria-label="Permalink to &quot;Token&quot;">​</a></h2><p>session 的维护给服务端造成很大困扰，我们必须找地方存放它，又要考虑分布式的问题，甚至要单独为了它启用一套 Redis 集群。有没有更好的办法？使用Token（令牌）</p><h3 id="token流程" tabindex="-1">token流程 <a class="header-anchor" href="#token流程" aria-label="Permalink to &quot;token流程&quot;">​</a></h3><p>在前后端通信时，Token 可以通过两种常用方式发送给后端：<code>HTTP Header 和 Cookie</code>。</p><h4 id="随cookie请求带上token的方式" tabindex="-1">随Cookie请求带上Token的方式 <a class="header-anchor" href="#随cookie请求带上token的方式" aria-label="Permalink to &quot;随Cookie请求带上Token的方式&quot;">​</a></h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712737430720-f7337ced-1567-40c9-b9a3-30c53caf460c.png#averageHue=%23dfdfdf&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=607&amp;id=u1b6192c4&amp;originHeight=1336&amp;originWidth=1638&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=229351&amp;status=done&amp;style=none&amp;taskId=u7da18e7d-031f-4dbf-85a1-d1a07f4f0cb&amp;title=&amp;width=744.5454384078668" alt="image.png"></p><ul><li>用户登录，服务端校验账号密码，获得用户信息</li><li>把用户信息、time、sign等配置编码生成token，通过 cookie set 返回到浏览器 <ul><li>也可以直接通过接口返回，同时浏览器也可以把token存其他地方，比如localStorage</li></ul></li><li>此后用户请求业务接口，通过 cookie 携带 token <ul><li><strong>更推荐的做法是将Token放到Header中</strong></li></ul></li><li>接口校验 token 有效性，进行正常业务接口处理</li></ul><hr><p>把 token 存储在 Cookie 中。服务器通过 Set-Cookie 响应头设置 Cookie，然后在每次请求时，浏览器都会自动带上 Cookie 发送给服务器。</p><h4 id="将token放到请求头中" tabindex="-1">将Token放到请求头中 <a class="header-anchor" href="#将token放到请求头中" aria-label="Permalink to &quot;将Token放到请求头中&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;api/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Bearer &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> token</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>这种方法的优点是</p><ol><li>可以<code>手动控制何时发送 token</code>，使得前后端交互更灵活。</li><li>同时，因为 <code>token 并不在 Cookie 中，避免了 CSRF 攻击</code>。</li></ol><hr><h3 id="refresh-token" tabindex="-1">Refresh Token <a class="header-anchor" href="#refresh-token" aria-label="Permalink to &quot;Refresh Token&quot;">​</a></h3><p><code>业务接口用来鉴权的 token，我们称之为 Access token</code>。越是权限敏感的业务，我们越希望 access token 有效期足够短，以避免被盗用。但过短的有效期会造成 access token 经常过期，过期后怎么办呢？ 一种办法是，让用户重新登录获取新 token，显然不够友好，要知道有的 access token 过期时间可能只有几分钟。 另外一种办法是，再来一个 token，<code>一个专门用于生成（刷新） Access token 的 token，我们称为 refresh token。</code> 有了 refresh token 后，请求流程变成这样： <img src="https://cdn.nlark.com/yuque/0/2024/webp/302528/1712739027313-9c7ef6a9-988f-4a6c-a3dc-3ffdb36f145c.webp#averageHue=%23f8f8f8&amp;clientId=u054ba167-28f6-4&amp;from=drop&amp;id=u3eb6c62c&amp;originHeight=1631&amp;originWidth=1512&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=52588&amp;status=done&amp;style=none&amp;taskId=u6b642070-3cef-4d4c-95c6-7fcf1a19dc5&amp;title=" alt="b764b256211b4ea182388fd92674fe70~tplv-k3u1fbpfcp-zoom-in-crop-mark_1512_0_0_0.webp"></p><ul><li>Access Token 的有效期比较短，当 Acesss Token 由于过期而失效时，使用 Refresh Token 就可以获取到新的 Token（Access Token），如果 Refresh Token 也失效了，用户就只能重新登录了。</li><li>在一种常见的设计策略中，<code>Refresh Token只能使用一次，使用后会被销毁，并产生一个新的Refresh Token一起返回给客户端</code>。这种策略的好处是如果Refresh Token被泄露并被使用，正常用户在使用旧的Refresh Token获取新的Access Token时会发现无法使用，从而可能提早发现Token的泄露。</li></ul><h3 id="token-和-session的区别" tabindex="-1">Token 和 Session的区别 <a class="header-anchor" href="#token-和-session的区别" aria-label="Permalink to &quot;Token 和 Session的区别&quot;">​</a></h3><ol><li><strong>存放位置：</strong><ul><li><code>Session</code>：Session 数据存储在服务器端，客户端的请求会带上 Session ID，服务器根据 Session ID 在内存或者数据库中查到保存的状态信息。</li><li><code>Token </code>：Token 数据存储在客户端（通常在 Cookie、LocalStorage 或 sessionStorage 中），每次请求会将其送至服务器端验证。</li></ul></li><li><strong>状态：</strong><ul><li>Session：是有状态的，服务器需要保存每个用户的 Session 数据。</li><li>Token ：是无状态的，服务器不保存用户状态，每次请求都会携带验证信息（Token）。这使得 Token 可以做到跨平台和跨域。</li></ul></li><li><strong>数据安全：</strong><ul><li>Session：数据存储在服务器端，相对比较安全，但是如果 Session ID 泄露可能会带来安全问题。</li><li>Token ：Token 需要传输的数据可能处于非常开放的环境，容易被截取，需要通过算法进行加解密。</li></ul></li><li><strong>扩展性：</strong><ul><li>Session：Session 存储在服务器，可能会对服务器资源造成压力，尤其在大规模分布式系统、负载均衡等环境下，处理 Session 变得复杂。</li><li>Token ：由于无状态、分离了服务器和认证，使得系统拓展性更强。</li></ul></li></ol><h2 id="jwt" tabindex="-1">JWT <a class="header-anchor" href="#jwt" aria-label="Permalink to &quot;JWT&quot;">​</a></h2><h3 id="基本" tabindex="-1">基本 <a class="header-anchor" href="#基本" aria-label="Permalink to &quot;基本&quot;">​</a></h3><p>JSON Web Token（简称 JWT）是目前最流行的<strong>跨域认证</strong>解决方案</p><ul><li>是一种<code>认证授权机制</code></li><li><strong>JWT 是一种具体的 Token 生成和验证标准</strong></li></ul><hr><p>一个 JWT 通常由三部分构成：<code>header（头部）</code>, <code>payload（负载）</code> 和 <code>signature（签名）</code></p><ol><li>Header（头部）： <ol><li>指定了 token 的类型（即 JWT）和所使用的签名算法，如 HMAC、SHA256 或 RSA。</li></ol></li><li>Payload（负载）： <ol><li>存放了实际需要传递的数据，如用户名、用户角色等。</li></ol></li><li>Signature（签名）： <ol><li>对 header 和 payload 的数据进行签名，确保数据不被篡改。</li></ol></li></ol><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712740798553-320ce672-ab87-4529-af52-b07352280a43.png#averageHue=%23e5e5e5&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=417&amp;id=ue77e0fb3&amp;originHeight=918&amp;originWidth=1650&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=351337&amp;status=done&amp;style=none&amp;taskId=u1b0f3474-0538-4820-a185-35bb0be26d2&amp;title=&amp;width=749.9999837441882" alt="image.png"> JWT 可以用于各种场景，比如：</p><ul><li><code>身份验证：</code>服务器在验证用户登录后，生成 JWT 返回给客户端。以后客户端的每个请求都包含这个 JWT，服务器就可以通过验证 JWT 来确认这个请求是合法的。</li><li><code>信息交换：</code>JWT 可以在各个服务之间安全地传递信息，因为 JWT 是签名的，所以接收方可以验证这个 JWT 是由真正可信的一方发送的。</li></ul><hr><ul><li><a href="https://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html" target="_blank" rel="noreferrer">JSON Web Token 入门教程 - 阮一峰的网络日志</a></li><li><a href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noreferrer">RFC 7519: JSON Web Token (JWT)</a></li><li><a href="https://zhuanlan.zhihu.com/p/86937325" target="_blank" rel="noreferrer">五分钟带你了解啥是JWT</a></li><li><a href="https://cloud.tencent.com/developer/article/1886353" target="_blank" rel="noreferrer">什么是 JWT -- JSON WEB TOKEN-腾讯云开发者社区-腾讯云</a></li><li><a href="https://jwt.io/" target="_blank" rel="noreferrer">https://jwt.io/</a></li><li><a href="https://jwt.io/introduction" target="_blank" rel="noreferrer">https://jwt.io/introduction</a></li></ul><h3 id="jwt认证流程" tabindex="-1">JWT认证流程 <a class="header-anchor" href="#jwt认证流程" aria-label="Permalink to &quot;JWT认证流程&quot;">​</a></h3><p><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712740209656-498dd4fa-2f40-492d-982b-8dc32ae120a4.png#averageHue=%23d3d3d3&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=410&amp;id=uacff8556&amp;originHeight=902&amp;originWidth=1364&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=201793&amp;status=done&amp;style=none&amp;taskId=u506de21d-b8e7-4d83-b2b7-5c1518ce793&amp;title=&amp;width=619.9999865618622" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2024/png/302528/1712740665643-3cd56661-69dc-478d-ad2a-5e3db24b8311.png#averageHue=%23dedede&amp;clientId=u054ba167-28f6-4&amp;from=paste&amp;height=471&amp;id=uc5da645c&amp;originHeight=1036&amp;originWidth=1914&amp;originalType=binary&amp;ratio=2.200000047683716&amp;rotation=0&amp;showTitle=false&amp;size=238485&amp;status=done&amp;style=none&amp;taskId=udafee434-baa0-46b3-ad55-84cc3ff854e&amp;title=&amp;width=869.9999811432582" alt="image.png"></p><ul><li>用户输入用户名/密码登录，服务端认证成功后，会返回给客户端一个 JWT</li><li>客户端将 token 保存到本地（通常使用 localstorage，也可以使用 cookie）</li><li>当用户希望访问一个受保护的路由或者资源的时候，需要请求头的 Authorization 字段中使用Bearer 模式添加 JWT，其内容看起来是下面这样</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Authorization: Bearer &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li>服务器检测JWT信息，如果合法，则允许用户行为</li><li>因为JWT不使用Cookie，所以可以向任何域名提供你的 API 服务而不需要担心跨域资源共享问题（CORS）</li><li>因为用户的状态不再存储在服务端的内存中，所以这是一种无状态的认证机制</li></ul><h3 id="jwt的使用方式" tabindex="-1">JWT的使用方式 <a class="header-anchor" href="#jwt的使用方式" aria-label="Permalink to &quot;JWT的使用方式&quot;">​</a></h3><h4 id="http请求头中" tabindex="-1">HTTP请求头中 <a class="header-anchor" href="#http请求头中" aria-label="Permalink to &quot;HTTP请求头中&quot;">​</a></h4><p>当用户希望访问一个受保护的路由或者资源的时候，可以把它放在 Cookie 里面自动发送，但是这样不能跨域，所以更好的做法是放在 HTTP 请求头信息的 Authorization 字段里，使用 Bearer 模式添加 JWT。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">calendar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">v1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">events</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: api.example.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Authorization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Bearer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><h4 id="post请求体中" tabindex="-1">POST请求体中 <a class="header-anchor" href="#post请求体中" aria-label="Permalink to &quot;POST请求体中&quot;">​</a></h4><ul><li>跨域的时候，可以把 JWT 放在 POST 请求的数据体里。</li></ul><h4 id="url拼接" tabindex="-1">URL拼接 <a class="header-anchor" href="#url拼接" aria-label="Permalink to &quot;URL拼接&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://www.example.com/user?token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=xxx</span></span></code></pre></div><h3 id="常见的前后端鉴权方式" tabindex="-1">常见的前后端鉴权方式 <a class="header-anchor" href="#常见的前后端鉴权方式" aria-label="Permalink to &quot;常见的前后端鉴权方式&quot;">​</a></h3><ol><li>Session-Cookie</li><li>Token 验证（包括 JWT，SSO）</li><li>OAuth2.0（开放授权）</li></ol><h2 id="单点登录" tabindex="-1">单点登录 <a class="header-anchor" href="#单点登录" aria-label="Permalink to &quot;单点登录&quot;">​</a></h2><p>参考：<a href="https://juejin.cn/post/6898630134530752520?searchId=202404101055040B640732313D5C73B0EE#heading-6" target="_blank" rel="noreferrer">前端鉴权的兄弟们：cookie、session、token、jwt、单点登录 - 掘金</a></p><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p><a href="https://juejin.cn/post/6844904034181070861?searchId=202404101055040B640732313D5C73B0EE#heading-32" target="_blank" rel="noreferrer">傻傻分不清之 Cookie、Session、Token、JWT - 掘金</a><a href="https://juejin.cn/post/6898630134530752520?searchId=202404101055040B640732313D5C73B0EE#heading-6" target="_blank" rel="noreferrer">前端鉴权的兄弟们：cookie、session、token、jwt、单点登录 - 掘金</a></p></div></div></main><footer class="VPDocFooter" data-v-40255539 data-v-0d70ac0d><!--[--><!--]--><!----><nav class="prev-next" data-v-0d70ac0d><div class="pager" data-v-0d70ac0d><a class="VPLink link pager-link prev" href="/2024/computer-networks/10.%20HTTP%20_%20HTTPS%20_%20%E7%8A%B6%E6%80%81%E7%A0%81.html" data-v-0d70ac0d><!--[--><span class="desc" data-v-0d70ac0d>Previous page</span><span class="title" data-v-0d70ac0d>10. HTTP _ HTTPS _ 状态码</span><!--]--></a></div><div class="pager" data-v-0d70ac0d><a class="VPLink link pager-link next" href="/2024/computer-networks/12.%20%E8%B7%A8%E5%9F%9F.html" data-v-0d70ac0d><!--[--><span class="desc" data-v-0d70ac0d>Next page</span><span class="title" data-v-0d70ac0d>12. 跨域</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"2024_computer-networks_3. 浏览器缓存.md\":\"D57sZXop\",\"2024_computer-networks_7. http1.1  http2.0.md\":\"VK23RrRJ\",\"2024_computer-networks_8. xss csrf.md\":\"CXHXnl5g\",\"2024_computer-networks_13. websocket.md\":\"CYv_qOot\",\"2024_interview_11. webpack5性能优化篇.md\":\"DJ0UW0Q6\",\"tips_网站资源.md\":\"Bu2zPK-p\",\"2024_computer-networks_2. cdn相关.md\":\"CIUyl4Ji\",\"course_05-node_day04_day04.md\":\"CzOS7GVn\",\"course_06-vue_vuex-总结.md\":\"Ce4zaRQ8\",\"course_06-vue_day11_day11-vuex入门.md\":\"C7NmIz2i\",\"2024_computer-networks_1. osi tcp _ udp.md\":\"Cumty4SA\",\"course_06-vue_day08_vue-2-8.md\":\"B3ns7wop\",\"course_06-vue_day09_day09-面经h5端-vant上.md\":\"Cvch1eSl\",\"course_06-vue_day10_day10-面经h5端-vant下.md\":\"8qhyWYy-\",\"course_06-vue_day07_day07.md\":\"CrL4QlDm\",\"course_03-jsadvance_day01_js-day01.md\":\"CqukSAQ0\",\"course_01-webapi_day04_web-day04.md\":\"CIWaXi5d\",\"2024_computer-networks_11. cookie session jwt.md\":\"D9thLgPP\",\"2024_interview_4. css面试题相关.md\":\"0pMojflR\",\"course_01-webapi_day07_web-day07.md\":\"Bo5tMlWo\",\"2024_interview_3. promise api 实现.md\":\"Bh4PKZki\",\"course_01-webapi_day01_web-day01.md\":\"BO8AfIKp\",\"course_01-webapi_day05_web-day05.md\":\"WimGxrjA\",\"2024_interview_5. 平铺数组转为树状.md\":\"CiuS_kdT\",\"2024_interview_10. webpack4升级到5.md\":\"Bvi5CVmE\",\"course_04-git_day02_day02.md\":\"DIrbVP4K\",\"course_03-jsadvance_day03_js-day03.md\":\"DDTnTX92\",\"course_03-jsadvance_day04_js-day04.md\":\"CkN-hny-\",\"2024_interview_6. 深浅拷贝.md\":\"Cw1TR1zv\",\"course_04-git_day01_day01.md\":\"0KwehFnt\",\"2024_interview_2. promisea_规范.md\":\"DTvoqWgk\",\"course_05-node_day03_day03.md\":\"DqzprzVf\",\"course_06-vue_安装vue2.7相关的插件，vue2和vite搭配使用必须安装.md\":\"DsMZfDiV\",\"course_07-typescript_day01_01 初识ts.md\":\"sResqsUJ\",\"course_10-api-8.1_day02_day02.md\":\"BpC3dcUz\",\"course_06-vue_day12_day12-面经pc端-element上.md\":\"Btx21YYR\",\"2024_computer-networks_4. dns域名解析.md\":\"CZyuAxMB\",\"2024_computer-networks_5. 跨域解决方案.md\":\"CQlZkgwR\",\"2024_computer-networks_12. 跨域.md\":\"B4m4lx61\",\"index.md\":\"BVvVSpwx\",\"course_10-api-8.1_day01_day01.md\":\"D_CVgd02\",\"course_01-webapi_day03_web-day03.md\":\"MWUC50N1\",\"course_06-vue_day13_day13-面经pc端-element下.md\":\"Bgjp_Edc\",\"2024_computer-networks_6. http https工作原理.md\":\"DCUR3pcK\",\"2024_computer-networks_9. 从url输入到页面展示，这中间发生了什么.md\":\"C8jo89C4\",\"course_01-webapi_day02_web-day02.md\":\"BVGIAXPs\",\"course_01-webapi_day06_web-day06.md\":\"BNxCzIdi\",\"2024_vue2_1. object.defineproperty.md\":\"RTwS_Ka2\",\"2024_performance_1. 前端性能指标.md\":\"58XQb_SI\",\"2024_project-review_1. 竞品对比.md\":\"XIFhJNUp\",\"2024_project-review_2. aso关键词.md\":\"Bc4dqWM-\",\"2024_project-review_3. asa项目.md\":\"QizrzpXn\",\"2024_project-review_4. 七麦移动端重构.md\":\"Db4IWKI-\",\"2024_typescript_1. ts-数据类型.md\":\"DSCK37Xb\",\"2024_typescript_11. 类型系统.md\":\"CwWRSg56\",\"2024_typescript_12. 条件类型-infer.md\":\"BrPa0Uw1\",\"2024_typescript_13. 工具类型.md\":\"BtklqzsN\",\"2024_typescript_14. ts cheat sheet.md\":\"B2K7gR1v\",\"course_02-echarts_day01_01-echarts.md\":\"CuuMwbfT\",\"2024_typescript_2. ts-接口.md\":\"Ctwg4ZjO\",\"2024_typescript_4. ts-函数.md\":\"Ku3h1HIM\",\"2024_typescript_5. 内置类型-类型断言.md\":\"CWQvBZgy\",\"2024_typescript_6. 类型别名.md\":\"B1clpawH\",\"2024_typescript_8. 索引类型-类型映射.md\":\"H55UJ-Vx\",\"2024_vue3_8. provide _ inject.md\":\"DeFkjV9I\",\"2024_typescript_3. ts-类.md\":\"CnwLysJ4\",\"2024_typescript_7. 联合交叉类型.md\":\"Df5mpvGY\",\"2024_vue2_2. 响应式原理.md\":\"CXGl1lO5\",\"course_05-node_day02_day02.md\":\"uYmU3ngW\",\"2024_typescript_9. 类型查询-类型守卫.md\":\"BDWKg5Ha\",\"2024_interview_1. js手写1.md\":\"k1A0P97y\",\"2024_computer-networks_10. http _ https _ 状态码.md\":\"CDdGxU3v\",\"2024_interview_9. js bridge.md\":\"BtRsQF4R\",\"course_05-node_day01_day01.md\":\"7mfDzuWz\",\"2024_typescript_10. 泛型.md\":\"zmhp4LZ8\",\"2024_vue3_5. 生命周期.md\":\"BKEC60wF\",\"2024_vue3_6. 组件-composition.md\":\"I4kl4fkw\",\"2024_vue3_7. _script setup_.md\":\"B5S8xxKJ\",\"course_03-jsadvance_day02_js-day02.md\":\"OtTJyEat\",\"2024_interview_7. 宏微任务-原型.md\":\"DjHn4JBv\",\"2024_vue2_3. vue源码分析.md\":\"0Kh4z53N\",\"2024_vue3_1. vite创建ts项目.md\":\"JZIixGre\",\"2024_interview_8. webpack相关.md\":\"BbZAn0eL\",\"2024_vue3_3. 计算属性-computed.md\":\"XS4NHROC\",\"2024_vue3_4. 侦听器-watch.md\":\"CT1HS6A-\",\"2024_vue3_2. vue3响应式.md\":\"BXDz5uKi\",\"course_02-echarts_day02_02-echarts.md\":\"EuvpQfvC\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"zxd's Blog\",\"description\":\"so easy\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/user.png\",\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"L0EMG34NNQ\",\"apiKey\":\"2f3bb9a9444f670387e88a77d8426f53\",\"indexName\":\"vitepress-course\"}},\"outline\":[1,3],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/zxdfe\"}],\"nav\":[{\"text\":\"网络\",\"link\":\"/2024/computer-networks/1. OSI TCP _ UDP.md\",\"activeMatch\":\"/computer-networks/\"},{\"text\":\"typescript\",\"link\":\"/2024/typescript/1. TS-数据类型.md\"},{\"text\":\"vue\",\"link\":\"/2024/vue2/2. 响应式原理.md\"},{\"text\":\"课堂教学\",\"items\":[{\"text\":\"01 WebAPI\",\"link\":\"/course/01-WebAPI/day01/web-day01\"},{\"text\":\"02 Echarts\",\"link\":\"/course/02-Echarts/day01/01-echarts\"},{\"text\":\"03 JS Advance\",\"link\":\"/course/03-JSAdvance/day01/JS-day01\"},{\"text\":\"04 Git\",\"link\":\"/course/04-Git/day01/day01\"},{\"text\":\"05 Node\",\"link\":\"/course/05-Node/day01/day01\"},{\"text\":\"06 Vue\",\"link\":\"/course/06-Vue/day07/day07\"}]},{\"text\":\"性能监控\",\"link\":\"/2024/performance/1. 前端性能指标.md\"},{\"text\":\"项目复盘\",\"link\":\"/2024/project-review/1. 竞品对比.md\"},{\"text\":\"手写实现\",\"link\":\"/2024/interview/1. JS手写1.md\"}],\"sidebar\":{\"/2024/computer-networks/\":[{\"text\":\"computer-networks\",\"items\":[{\"text\":\"1. OSI TCP _ UDP\",\"link\":\"/2024/computer-networks/1. OSI TCP _ UDP\"},{\"text\":\"2. CDN相关\",\"link\":\"/2024/computer-networks/2. CDN相关\"},{\"text\":\"3. 浏览器缓存\",\"link\":\"/2024/computer-networks/3. 浏览器缓存\"},{\"text\":\"4. DNS域名解析\",\"link\":\"/2024/computer-networks/4. DNS域名解析\"},{\"text\":\"5. 跨域解决方案\",\"link\":\"/2024/computer-networks/5. 跨域解决方案\"},{\"text\":\"6. HTTP HTTPS工作原理\",\"link\":\"/2024/computer-networks/6. HTTP HTTPS工作原理\"},{\"text\":\"7. HTTP1.1  HTTP2.0\",\"link\":\"/2024/computer-networks/7. HTTP1.1  HTTP2.0\"},{\"text\":\"8. XSS CSRF\",\"link\":\"/2024/computer-networks/8. XSS CSRF\"},{\"text\":\"9. 从URL输入到页面展示，这中间发生了什么\",\"link\":\"/2024/computer-networks/9. 从URL输入到页面展示，这中间发生了什么\"},{\"text\":\"10. HTTP _ HTTPS _ 状态码\",\"link\":\"/2024/computer-networks/10. HTTP _ HTTPS _ 状态码\"},{\"text\":\"11. Cookie Session JWT\",\"link\":\"/2024/computer-networks/11. Cookie Session JWT\"},{\"text\":\"12. 跨域\",\"link\":\"/2024/computer-networks/12. 跨域\"},{\"text\":\"13. WebSocket\",\"link\":\"/2024/computer-networks/13. WebSocket\"}]}],\"/course/\":[{\"text\":\"WebAPI\",\"collapsed\":false,\"items\":[{\"text\":\"day-01 DOM/获取元素\",\"link\":\"/course/01-WebAPI/day01/web-day01.md\"},{\"text\":\"day-02 事件/tab切换\",\"link\":\"/course/01-WebAPI/day02/web-day02.md\"},{\"text\":\"day-03 事件流/事件委托\",\"link\":\"/course/01-WebAPI/day03/web-day03.md\"},{\"text\":\"day-04 日期对/节点\",\"link\":\"/course/01-WebAPI/day04/web-day04.md\"},{\"text\":\"day-05 BOM/localStorage\",\"link\":\"/course/01-WebAPI/day05/web-day05.md\"},{\"text\":\"day-06 正则/案例\",\"link\":\"/course/01-WebAPI/day06/web-day06.md\"},{\"text\":\"day-07 放大镜\",\"link\":\"/course/01-WebAPI/day07/web-day07.md\"}]},{\"text\":\"Echarts\",\"collapsed\":false,\"items\":[{\"text\":\"day-01\",\"link\":\"/course/02-Echarts/day01/01-echarts.md\"},{\"text\":\"day-02\",\"link\":\"/course/02-Echarts/day02/02-echarts.md\"}]},{\"text\":\"JS Advance\",\"collapsed\":false,\"items\":[{\"text\":\"day-01 作用域/垃圾回收/闭包\",\"link\":\"/course/03-JSAdvance/day01/JS-day01.md\"},{\"text\":\"day-02 解构赋值/构造函数\",\"link\":\"/course/03-JSAdvance/day02/JS-day02.md\"},{\"text\":\"day-03 原型/原型链\",\"link\":\"/course/03-JSAdvance/day03/JS-day03.md\"},{\"text\":\"day-04 深浅拷贝/防抖节流\",\"link\":\"/course/03-JSAdvance/day04/JS-day04.md\"}]},{\"text\":\"Git\",\"collapsed\":false,\"items\":[{\"text\":\"day-01 本地操作\",\"link\":\"/course/04-Git/day01/day01.md\"},{\"text\":\"day-02 远端仓库\",\"link\":\"/course/04-Git/day02/day02.md\"}]},{\"text\":\"Node\",\"collapsed\":false,\"items\":[{\"text\":\"day-01 初识Node\",\"link\":\"/course/05-Node/day01/day01.md\"},{\"text\":\"day-02 模块化\",\"link\":\"/course/05-Node/day02/day02.md\"},{\"text\":\"day-03 Koa\",\"link\":\"/course/05-Node/day03/day03.md\"}]},{\"text\":\"Vue\",\"collapsed\":false,\"items\":[{\"text\":\"day-07 Vue-Router\",\"link\":\"/course/06-Vue/day07/day07.md\"},{\"text\":\"day-08 Vite-响应式\",\"link\":\"/course/06-Vue/day08/vue-2-8.md\"},{\"text\":\"day-09 H5-Vant上\",\"link\":\"/course/06-Vue/day09/day09-面经H5端-Vant上.md\"},{\"text\":\"day-10 H5-Vant下\",\"link\":\"/course/06-Vue/day10/day10-面经H5端-Vant下.md\"},{\"text\":\"day-11 Vuex\",\"link\":\"/course/06-Vue/day11/day11-vuex入门.md\"},{\"text\":\"day-12 PC-Element-UI上\",\"link\":\"/course/06-Vue/day12/day12-面经PC端-element上.md\"},{\"text\":\"day-13 PC-Element-UI下\",\"link\":\"/course/06-Vue/day13/day13-面经PC端-element下.md\"}]}],\"/2024/typescript/\":[{\"text\":\"typescript\",\"items\":[{\"text\":\"1. TS-数据类型\",\"link\":\"/2024/typescript/1. TS-数据类型\"},{\"text\":\"2. TS-接口\",\"link\":\"/2024/typescript/2. TS-接口\"},{\"text\":\"3. TS-类\",\"link\":\"/2024/typescript/3. TS-类\"},{\"text\":\"4. TS-函数\",\"link\":\"/2024/typescript/4. TS-函数\"},{\"text\":\"5. 内置类型-类型断言\",\"link\":\"/2024/typescript/5. 内置类型-类型断言\"},{\"text\":\"6. 类型别名\",\"link\":\"/2024/typescript/6. 类型别名\"},{\"text\":\"7. 联合交叉类型\",\"link\":\"/2024/typescript/7. 联合交叉类型\"},{\"text\":\"8. 索引类型-类型映射\",\"link\":\"/2024/typescript/8. 索引类型-类型映射\"},{\"text\":\"9. 类型查询-类型守卫\",\"link\":\"/2024/typescript/9. 类型查询-类型守卫\"},{\"text\":\"10. 泛型\",\"link\":\"/2024/typescript/10. 泛型\"},{\"text\":\"11. 类型系统\",\"link\":\"/2024/typescript/11. 类型系统\"},{\"text\":\"12. 条件类型-infer\",\"link\":\"/2024/typescript/12. 条件类型-infer\"},{\"text\":\"13. 工具类型\",\"link\":\"/2024/typescript/13. 工具类型\"},{\"text\":\"14. TS Cheat Sheet\",\"link\":\"/2024/typescript/14. TS Cheat Sheet\"}]}],\"/2024/vue2/\":[{\"text\":\"vue2\",\"items\":[{\"text\":\"1. Object.defineProperty\",\"link\":\"/2024/vue2/1. Object.defineProperty\"},{\"text\":\"2. 响应式原理\",\"link\":\"/2024/vue2/2. 响应式原理\"},{\"text\":\"3. Vue源码分析\",\"link\":\"/2024/vue2/3. Vue源码分析\"}]},{\"text\":\"vue3\",\"items\":[{\"text\":\"1. Vite创建TS项目\",\"link\":\"/2024/vue3/1. Vite创建TS项目\"},{\"text\":\"2. Vue3响应式\",\"link\":\"/2024/vue3/2. Vue3响应式\"},{\"text\":\"3. 计算属性-computed\",\"link\":\"/2024/vue3/3. 计算属性-computed\"},{\"text\":\"4. 侦听器-watch\",\"link\":\"/2024/vue3/4. 侦听器-watch\"},{\"text\":\"5. 生命周期\",\"link\":\"/2024/vue3/5. 生命周期\"},{\"text\":\"6. 组件-Composition\",\"link\":\"/2024/vue3/6. 组件-Composition\"},{\"text\":\"7. _script setup_\",\"link\":\"/2024/vue3/7. _script setup_\"},{\"text\":\"8. provide _ inject\",\"link\":\"/2024/vue3/8. provide _ inject\"}]}],\"/2024/vue3/\":[{\"text\":\"vue2\",\"items\":[{\"text\":\"1. Object.defineProperty\",\"link\":\"/2024/vue2/1. Object.defineProperty\"},{\"text\":\"2. 响应式原理\",\"link\":\"/2024/vue2/2. 响应式原理\"},{\"text\":\"3. Vue源码分析\",\"link\":\"/2024/vue2/3. Vue源码分析\"}]},{\"text\":\"vue3\",\"items\":[{\"text\":\"1. Vite创建TS项目\",\"link\":\"/2024/vue3/1. Vite创建TS项目\"},{\"text\":\"2. Vue3响应式\",\"link\":\"/2024/vue3/2. Vue3响应式\"},{\"text\":\"3. 计算属性-computed\",\"link\":\"/2024/vue3/3. 计算属性-computed\"},{\"text\":\"4. 侦听器-watch\",\"link\":\"/2024/vue3/4. 侦听器-watch\"},{\"text\":\"5. 生命周期\",\"link\":\"/2024/vue3/5. 生命周期\"},{\"text\":\"6. 组件-Composition\",\"link\":\"/2024/vue3/6. 组件-Composition\"},{\"text\":\"7. _script setup_\",\"link\":\"/2024/vue3/7. _script setup_\"},{\"text\":\"8. provide _ inject\",\"link\":\"/2024/vue3/8. provide _ inject\"}]}],\"/2024/interview/\":[{\"text\":\"interview\",\"items\":[{\"text\":\"1. JS手写1\",\"link\":\"/2024/interview/1. JS手写1\"},{\"text\":\"2. PromiseA+规范\",\"link\":\"/2024/interview/2. PromiseA+规范\"},{\"text\":\"3. Promise API 实现\",\"link\":\"/2024/interview/3. Promise API 实现\"},{\"text\":\"4. CSS面试题相关\",\"link\":\"/2024/interview/4. CSS面试题相关\"},{\"text\":\"5. 平铺数组转为树状\",\"link\":\"/2024/interview/5. 平铺数组转为树状\"},{\"text\":\"6. 深浅拷贝\",\"link\":\"/2024/interview/6. 深浅拷贝\"},{\"text\":\"7. 宏微任务-原型\",\"link\":\"/2024/interview/7. 宏微任务-原型\"},{\"text\":\"8. Webpack相关\",\"link\":\"/2024/interview/8. Webpack相关\"},{\"text\":\"9. JS Bridge\",\"link\":\"/2024/interview/9. JS Bridge\"},{\"text\":\"10. webpack4升级到5\",\"link\":\"/2024/interview/10. webpack4升级到5\"},{\"text\":\"11. webpack5性能优化篇\",\"link\":\"/2024/interview/11. webpack5性能优化篇\"}]}],\"/2024/project-review/\":[{\"text\":\"project-review\",\"items\":[{\"text\":\"1. 竞品对比\",\"link\":\"/2024/project-review/1. 竞品对比\"},{\"text\":\"2. ASO关键词\",\"link\":\"/2024/project-review/2. ASO关键词\"},{\"text\":\"3. ASA项目\",\"link\":\"/2024/project-review/3. ASA项目\"},{\"text\":\"4. 七麦移动端重构\",\"link\":\"/2024/project-review/4. 七麦移动端重构\"}]}],\"/2024/performance/\":[{\"text\":\"performance\",\"items\":[{\"text\":\"1. 前端性能指标\",\"link\":\"/2024/performance/1. 前端性能指标\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>